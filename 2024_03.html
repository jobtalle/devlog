<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="initial-scale=1"><meta name="description" content="The Koi Farm 2 development blog"><title>Koi Farm 2 blog | March 2024</title><link rel="stylesheet" type="text/css" href="style.css"><link rel="icon" type="image/png" sizes="16x16" href="favicon_16.png"/><link rel="icon" type="image/png" sizes="32x32" href="favicon_32.png"/><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="rss.xml"></head><body><div id="wrapper"><div id="content"><input type="checkbox" id="dropdown-menu" class="dropdown-checkbox"><label for="dropdown-menu" id="menu-toggle"><span></span></label><div id="index" class="dropdown-menu"><ul><li><a href="2025_07.html">July 2025</a></li><li><a href="2025_06.html">June 2025</a></li><li><a href="2025_05.html">May 2025</a></li><li><a href="2025_04.html">April 2025</a></li><li><a href="2025_03.html">March 2025</a></li><li><a href="2025_02.html">February 2025</a></li><li><a href="2025_01.html">January 2025</a></li><li><hr></li><li><a href="2024_12.html">December 2024</a></li><li><a href="2024_11.html">November 2024</a></li><li><a href="2024_10.html">October 2024</a></li><li><a href="2024_09.html">September 2024</a></li><li><a href="2024_08.html">August 2024</a></li><li><a href="2024_07.html">July 2024</a></li><li><a href="2024_06.html">June 2024</a></li><li><a href="2024_05.html">May 2024</a></li><li><a href="2024_04.html">April 2024</a></li><li>March 2024</li><li><a href="2024_02.html">February 2024</a></li><li><a href="2024_01.html">January 2024</a></li><li><hr></li><li><a href="2023_12.html">December 2023</a></li><li><a href="2023_11.html">November 2023</a></li><hr></ul><a href="rss.xml" title="RSS"><svg height="16px" width="16px" class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24.912 24.912"><g><path d="M3.692,17.517C1.656,17.517,0,19.173,0,21.211C0,23.244,1.656,24.9,3.692,24.9s3.694-1.657,3.694-3.689C7.387,19.173,5.729,17.517,3.692,17.517z"/><path d="M0.384,8.142C0.173,8.142,0,8.315,0,8.527v4.688c0,0.211,0.173,0.383,0.384,0.383c6.02,0,10.919,4.898,10.919,10.92c0,0.209,0.171,0.383,0.384,0.383h4.689h0.016c0.215,0,0.387-0.173,0.387-0.383l-0.018-0.121C16.692,15.423,9.37,8.142,0.384,8.142z"/><path d="M24.89,24.397C24.825,10.936,13.854,0.011,0.384,0.011C0.173,0.011,0,0.183,0,0.397v4.824c0,0.212,0.173,0.383,0.384,0.383c10.429,0,18.913,8.486,18.913,18.914c0,0.209,0.172,0.383,0.382,0.383h4.825h0.02c0.21,0,0.388-0.173,0.388-0.383L24.89,24.397z"/></g></svg></a><a href="https://x.com/jobtalle" target="_blank" title="X"><svg height="16px" width="16px" class="icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" xml:space="preserve"><g><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"></path></g></svg></a></div><div id="blog"><div id="post"><h2>Rigging fins</h2><h3>March 2024</h3><figure><img src="posts\2024_03\fin_rigging.jpg" alt="Fins"/><figcaption>Back and tail fins</figcaption></figure><p>After modelling parametric koi bodies which can take a wide range of shapes, it's time to model and rig the fins. Fins are all parts of a koi body that have no volume, so they're rendered as double-sided polygons attached to the koi body. These are much more complicated than the bodies in many ways. While the koi skeleton up until now was just one chain of bones, the fins need many more bones to animate subtle motion. When the body swings to accelerate, fins play different roles; the dorsal fin on the back of the body flattens when speeding up and stands up straight when staying in the same place, the tail fin swings to speed up the koi, and the pectoral fins under the gills are used for steering and small movements. All these fins need their own sets of bones, and fins can be influenced by more bones than the koi body, which enables more granular animations.</p><p>The screenshot shows both the dorsal fin and the tail fin. The dorsal fin has the shape of a rectangle, but a texture or distance field will be used to "cut out" the actual fin shape later. This shape can be frilled or detailed in other ways, so it would require too many vertices to model the shape exactly.</p><p>When all fins are implemented, the number of bones in a koi skeleton probably more than doubles. To increase performance, I will probably create two koi rigs, one with fully rigged and animated fins, and another one where the fins are not animated separately. They will simply connect to the body spine without producing their own motion. Small movements won't be visible from a distance, so it will probably not be noticeable.</p><p>Contrary to the koi in koi farm 1, the different skeletons in koi farm 2 all have their unique animation parameters, so different koi won't just have unique shapes but also unique animation styles.</p></div><div id="footer"><span class="previous"><a href="2024_02.html"><< previous</a></span><span class="next"><a href="2024_04.html">next >></a></span></div></div></div></div></body></html>