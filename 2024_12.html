<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><title>Koi Farm 2 blog | December 2024</title><link rel="stylesheet" type="text/css" href="style.css"><link rel="icon" type="image/png" sizes="16x16" href="favicon_16.png"/><link rel="icon" type="image/png" sizes="32x32" href="favicon_32.png"/><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="rss.xml"></head><body><div id="wrapper"><div id="content"><input type="checkbox" id="dropdown-menu" class="dropdown-checkbox"><label for="dropdown-menu" class="dropdown-toggle"><div id="menu-toggle"><span>Index</span></div></label><div id="index" class="dropdown-menu"><ul><li><a href="2025_07.html">July 2025</a></li><li><a href="2025_06.html">June 2025</a></li><li><a href="2025_05.html">May 2025</a></li><li><a href="2025_04.html">April 2025</a></li><li><a href="2025_03.html">March 2025</a></li><li><a href="2025_02.html">February 2025</a></li><li><a href="2025_01.html">January 2025</a></li><li><hr></li><li>December 2024</li><li><a href="2024_11.html">November 2024</a></li><li><a href="2024_10.html">October 2024</a></li><li><a href="2024_09.html">September 2024</a></li><li><a href="2024_08.html">August 2024</a></li><li><a href="2024_07.html">July 2024</a></li><li><a href="2024_06.html">June 2024</a></li><li><a href="2024_05.html">May 2024</a></li><li><a href="2024_04.html">April 2024</a></li><li><a href="2024_03.html">March 2024</a></li><li><a href="2024_02.html">February 2024</a></li><li><a href="2024_01.html">January 2024</a></li><li><hr></li><li><a href="2023_12.html">December 2023</a></li><li><a href="2023_11.html">November 2023</a></li><hr></ul><a href="rss.xml" title="RSS"><svg height="16px" width="16px" class="icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24.912 24.912" xml:space="preserve"><g><path d="M3.692,17.517C1.656,17.517,0,19.173,0,21.211C0,23.244,1.656,24.9,3.692,24.9s3.694-1.657,3.694-3.689,C7.387,19.173,5.729,17.517,3.692,17.517z"/><path d="M0.384,8.142C0.173,8.142,0,8.315,0,8.527v4.688c0,0.211,0.173,0.383,0.384,0.383c6.02,0,10.919,4.898,10.919,10.92,c0,0.209,0.171,0.383,0.384,0.383h4.689h0.016c0.215,0,0.387-0.173,0.387-0.383l-0.018-0.121C16.692,15.423,9.37,8.142,0.384,8.142,z"/><path d="M24.89,24.397C24.825,10.936,13.854,0.011,0.384,0.011C0.173,0.011,0,0.183,0,0.397v4.824c0,0.212,0.173,0.383,0.384,0.383,c10.429,0,18.913,8.486,18.913,18.914c0,0.209,0.172,0.383,0.382,0.383h4.825h0.02c0.21,0,0.388-0.173,0.388-0.383L24.89,24.397z"/></g></svg></a><a href="https://x.com/jobtalle" target="_blank" title="X"><svg height="16px" width="16px" class="icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" xml:space="preserve"><g><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"></path></g></svg></a></div><div id="blog"><div id="post"><h2>Porting progress</h2><h3>December 2024</h3><p>After writing most basic game engine systems, like the multithreading and memory management algorithms, I've now also implemented the koi modelling, rendering and animation systems. Besides just porting it, I've been able to improve the systems and make them more performant. Since the new engine performs very well, I can now increase the amount of detail and the quality of the koi animations.</p><figure><img src="posts\2024_12\koi.jpg" alt="Koi"><figcaption>The koi are swimming again, although their tails are still missing.</figcaption></figure><p>The koi animation system runs completely on the GPU, and has become rather complicated already. I think it still needs some improvements over the last iteration though. The pectoral and ventral fins looked fine shape-wise, but moved rather rigidly. I'm going to try some new methods to animate them to see if that feels better.</p><p>The game uses a lot of procedural generation systems to make its content; not just the koi, but also the environments are completely unique for each game, the same 3D model will never appear twice. Generating these models can be very complex and slow, so this work must be multithreaded to prevent the game from freezing or stuttering. In Javascript, this was somewhat possible, but synchronizing the threads wasn't very efficient or pleasant to work with. I've been able to improve this workflow a lot with the new engine, so it will be much easier to implement future algorithms now.</p><p>Koi farm 1 only had small plants, which are rather easy to animate realistically. If they sway back and forth in the wind, it looks convincing enough. I want to add larger and more complicated plants to the environments in koi farm 2, which will probably require skeletal animation just like the koi. To facilitate that, I've written the koi animation system in such a way that more animation systems can be added to it in the future. Trees, birds and dragonflies can all extend that system in their own way to animate themselves.</p></div><div id="footer"><span class="previous"><a href="2024_11.html"><< previous</a></span><span class="next"><a href="2025_01.html">next >></a></span></div></div></div></div></body></html>