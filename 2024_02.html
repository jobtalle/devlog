<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="initial-scale=1"><meta name="description" content="The Koi Farm 2 development blog"><title>Koi Farm 2 blog | February 2024</title><link rel="stylesheet" type="text/css" href="style.css"><link rel="icon" type="image/png" sizes="16x16" href="favicon_16.png"/><link rel="icon" type="image/png" sizes="32x32" href="favicon_32.png"/><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="rss.xml"></head><body><div id="wrapper"><div id="content"><input type="checkbox" id="dropdown-menu" class="dropdown-checkbox"><label for="dropdown-menu" id="menu-toggle"><span></span></label><div id="index" class="dropdown-menu"><ul><li><a title="Going cross-platform" href="2025_12.html">December 2025</a></li><li><a title="Terrain detailing" href="2025_11.html">November 2025</a></li><li><a title="A tiny distraction" href="2025_10.html">October 2025</a></li><li><a title="Grass" href="2025_09.html">September 2025</a></li><li><a title="Holland Koi Show" href="2025_08.html">August 2025</a></li><li><a title="Shadows" href="2025_07.html">July 2025</a></li><li><a title="Making waves" href="2025_06.html">June 2025</a></li><li><a title="The grid" href="2025_05.html">May 2025</a></li><li><a title="Tessellation" href="2025_04.html">April 2025</a></li><li><a title="Patterns" href="2025_03.html">March 2025</a></li><li><a title="Memory management" href="2025_02.html">February 2025</a></li><li><a title="The koi are back" href="2025_01.html">January 2025</a></li><li><hr></li><li><a title="Porting progress" href="2024_12.html">December 2024</a></li><li><a title="A new engine" href="2024_11.html">November 2024</a></li><li><a title="Leaving the prototype phase" href="2024_10.html">October 2024</a></li><li><a title="Koi farms in Japan" href="2024_09.html">September 2024</a></li><li><a title="Water & fin colors" href="2024_08.html">August 2024</a></li><li><a title="Pattern genetics" href="2024_07.html">July 2024</a></li><li><a title="The first patterns" href="2024_06.html">June 2024</a></li><li><a title="Shadows, textures and fins" href="2024_05.html">May 2024</a></li><li><a title="Animation" href="2024_04.html">April 2024</a></li><li><a title="Rigging fins" href="2024_03.html">March 2024</a></li><li>February 2024</li><li><a title="Interactive koi" href="2024_01.html">January 2024</a></li><li><hr></li><li><a title="Moving to 3d" href="2023_12.html">December 2023</a></li><li><a title="Pond digging" href="2023_11.html">November 2023</a></li><hr></ul><a href="rss.xml" title="RSS"><svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24.912 24.912"><g><path d="M3.692,17.517C1.656,17.517,0,19.173,0,21.211C0,23.244,1.656,24.9,3.692,24.9s3.694-1.657,3.694-3.689C7.387,19.173,5.729,17.517,3.692,17.517z"/><path d="M0.384,8.142C0.173,8.142,0,8.315,0,8.527v4.688c0,0.211,0.173,0.383,0.384,0.383c6.02,0,10.919,4.898,10.919,10.92c0,0.209,0.171,0.383,0.384,0.383h4.689h0.016c0.215,0,0.387-0.173,0.387-0.383l-0.018-0.121C16.692,15.423,9.37,8.142,0.384,8.142z"/><path d="M24.89,24.397C24.825,10.936,13.854,0.011,0.384,0.011C0.173,0.011,0,0.183,0,0.397v4.824c0,0.212,0.173,0.383,0.384,0.383c10.429,0,18.913,8.486,18.913,18.914c0,0.209,0.172,0.383,0.382,0.383h4.825h0.02c0.21,0,0.388-0.173,0.388-0.383L24.89,24.397z"/></g></svg></a><a href="https://x.com/jobtalle" target="_blank" title="X"><svg class="icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><g><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"></path></g></svg></a><a href="https://discord.gg/bw3ZFe63Qg" target="_blank" title="Discord"><svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 126.644 96"><path d="M81.15,0c-1.2376,2.1973-2.3489,4.4704-3.3591,6.794-9.5975-1.4396-19.3718-1.4396-28.9945,0-.985-2.3236-2.1216-4.5967-3.3591-6.794-9.0166,1.5407-17.8059,4.2431-26.1405,8.0568C2.779,32.5304-1.6914,56.3725.5312,79.8863c9.6732,7.1476,20.5083,12.603,32.0505,16.0884,2.6014-3.4854,4.8998-7.1981,6.8698-11.0623-3.738-1.3891-7.3497-3.1318-10.8098-5.1523.9092-.6567,1.7932-1.3386,2.6519-1.9953,20.281,9.547,43.7696,9.547,64.0758,0,.8587.7072,1.7427,1.3891,2.6519,1.9953-3.4601,2.0457-7.0718,3.7632-10.835,5.1776,1.97,3.8642,4.2683,7.5769,6.8698,11.0623,11.5419-3.4854,22.3769-8.9156,32.0509-16.0631,2.626-27.2771-4.496-50.9172-18.817-71.8548C98.9811,4.2684,90.1918,1.5659,81.1752.0505l-.0252-.0505ZM42.2802,65.4144c-6.2383,0-11.4159-5.6575-11.4159-12.6535s4.9755-12.6788,11.3907-12.6788,11.5169,5.708,11.4159,12.6788c-.101,6.9708-5.026,12.6535-11.3907,12.6535ZM84.3576,65.4144c-6.2637,0-11.3907-5.6575-11.3907-12.6535s4.9755-12.6788,11.3907-12.6788,11.4917,5.708,11.3906,12.6788c-.101,6.9708-5.026,12.6535-11.3906,12.6535Z"/></svg></a></div><div id="blog"><div id="post"><h2>Koi modelling</h2><h3>February 2024</h3><figure><img src="posts\2024_02\koi_shape.jpg" width="500" height="591" alt="Koi shapes"/><figcaption>Koi shapes</figcaption></figure><p>The koi models I've used up until now were very simple flattened cylinders, but the game needs more realistic and above all more mutable shapes to make the game fun. All fish should resemble koi, but many properties of the shape should be mutable too.</p><p>Several fins will also need to be attached to the body shape. The tail fin, back fin and dorsal fins seem to be the most visually important, but I may also add ventral fins. The body model should be designed in such a way that fins can attach to it without giving the impression that the fins are simply stapled onto the fish without being connected to the body.</p><p>The body shape is animated using a strip of bones that move from the front of the fish all the way towards the end of the tail fin. This chain of vertebrae swings when swimming, and makes the fish bend. All fins will have their own bone(s) to allow for independent animation, so they don't just move with the body.</p><p>Koi bodies are created from several mutable curves:</p><ul><li>The lateral curve going from the nose to the tail along the back,</li><li>the lateral curve going from the nose to the tail along the belly, and</li><li>the top-down profile of the koi, which determines the width of the body.</li></ul><p>The profile as seen from the front is partially derived from those three curves, and has some mutable parameters that determine the thickness and sharpness of the body shape.</p><p>When studying pictures of koi, one important thing I noticed is that the head is clearly separate from the body in several ways:</p><ul><li>It has no fins, and it's rather smooth.</li><li>There's a clear dividing line between the head and the body at the location of the gills.</li><li>The top of a koi body where the back fin is attached is somewhat pointed, but the top of the head is round.</li><li>The head does not bend.</li><li>The back curve changes direction where the head begins.</li></ul><figure><img src="posts\2024_02\koi_model.jpg" width="500" height="377" alt="Koi models"/><figcaption>Koi models</figcaption></figure><p>To account for this difference, the first part of the koi body is modelled differently. The top of the head is rounded instead of sharp, the head turns but does not bend, and triangles are arranged differently to make the nose nice and round, rather than pointy and flattened like the back of the koi body.</p><p>The screenshot shows some koi models generated from simple curves according to these rules. The heads are clearly separate, the back of the body shape is sharpened around the area where the back fin will be attached, and the tails end in flat wedges where the tail fins will be attached.</p></div><div id="footer"><span class="previous"><a href="2024_01.html"><< previous</a></span><span id="copyright">Â© Job Talle 2023 - 2026</span><span class="next"><a href="2024_03.html">next >></a></span></div></div></div></div></body></html>